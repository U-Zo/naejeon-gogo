## Context

현재 시스템은 인증 없이 모든 사용자가 멤버 등록/수정/삭제를 수행할 수 있다. 이 앱은 소규모 내전 관리 도구로 서버 사이드 인증은 과도하며, 클라이언트 측 비밀번호 확인만으로 충분하다. 기존 스택은 TanStack Start + React 19 + Context API 사용 가능 환경이다.

## Goals / Non-Goals

**Goals:**
- 관리자 비밀번호 입력으로 관리자 모드 활성화
- 관리자가 아닌 경우 멤버 수정/삭제 버튼 숨김
- Context API로 전역 인증 상태 관리
- 세션 동안 인증 상태 유지 (새로고침 시 초기화)

**Non-Goals:**
- 서버 사이드 인증/인가 (API 보호 미적용)
- 사용자 계정 시스템 (아이디/비밀번호 쌍)
- 비밀번호 변경 UI
- 멤버 등록 권한 제한 (등록은 누구나 가능)

## Decisions

### 1. 클라이언트 전용 인증 (서버 사이드 미적용)
**선택**: 클라이언트에서만 비밀번호를 검증한다.
**근거**: 소규모 내전 관리 도구로 보안 수준이 높을 필요 없음. 서버 인증 추가 시 복잡도 대비 이점이 적음.
**대안**: 서버 세션 기반 인증 → 불필요한 복잡도 증가로 기각.

### 2. React Context API 사용
**선택**: `AuthContext`와 `AuthProvider`로 전역 상태 관리.
**근거**: 사용자 요구사항에 부합. 단순 boolean 상태 하나이므로 Redux 등 외부 라이브러리 불필요.
**대안**: Zustand/Jotai → 의존성 추가 대비 이점 없음으로 기각.

### 3. 환경변수로 비밀번호 관리
**선택**: `ADMIN_PASSWORD` 환경변수를 서버 함수에서 검증.
**근거**: 비밀번호를 코드에 하드코딩하지 않으며, 서버 함수를 통해 검증하므로 클라이언트에 비밀번호가 노출되지 않음.
**대안**: 클라이언트에 비밀번호 하드코딩 → 소스 코드에 평문 노출로 기각.

### 4. 인증 상태 저장 방식
**선택**: React 상태(메모리)에만 저장. 새로고침 시 초기화.
**근거**: sessionStorage/localStorage에 저장하면 보안 취약점. 관리자가 접근할 때마다 비밀번호 입력하는 것이 안전.
**대안**: sessionStorage 저장 → 탭 공유 시 보안 문제로 기각.

### 5. 구조 배치
- `src/client/domains/auth/`: AuthContext, useAuth hook, AdminLoginForm
- `src/server/auth/`: 비밀번호 검증 서버 함수
- MembersPage에서 `useAuth`로 인증 상태 확인 후 조건부 렌더링

## Risks / Trade-offs

- **[클라이언트 전용 보호]** API를 직접 호출하면 인증 없이 수정/삭제 가능 → 소규모 내전 도구 특성상 수용 가능. 향후 필요시 서버 미들웨어 추가 가능.
- **[새로고침 시 로그아웃]** 관리자가 매번 비밀번호를 입력해야 함 → 보안과 편의성 간 트레이드오프로 보안 우선.
- **[단일 비밀번호]** 모든 관리자가 동일 비밀번호 사용 → 소규모 팀에서 충분하며, 개별 계정 시스템은 Non-Goal.
